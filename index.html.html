<html lang="en">
<head>
<meta charset="utf-8" />
<title>The Natural Burn Blueprint‚Ñ¢ - 21 Day Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Caveat&display=swap" rel="stylesheet">
<style>
  /* --- page basics (unchanged look) --- */
  body { font-family:'Segoe UI',sans-serif; background:#f4f6f9; margin:0; padding:0; }
  .top-section { position:sticky; top:0; z-index:1000; background:#002b5c; border-bottom:3px solid goldenrod; }
  h1 { font-family:'Alex Brush',cursive; color:goldenrod; text-align:center; font-size:3em; margin:0; padding:15px 10px 5px; font-weight:bold; }
  .subtitle { text-align:center; font-family:'Caveat',cursive; font-size:1.6em; color:goldenrod; margin:0; padding-bottom:8px; font-weight:bold; line-height:1.35; white-space:pre-line; }
  .banner { text-align:center; font-family:'Caveat',cursive; font-size:1.8em; font-weight:bold; background:#002b5c; color:goldenrod; padding:10px; border-top:3px solid goldenrod; border-bottom:3px solid goldenrod; }
  .controls { display:flex; justify-content:space-between; align-items:center; padding:10px 20px; }
  .left-controls { flex:1; text-align:left; }
  .center-controls { flex:1; text-align:center; }
  .right-controls { flex:1; text-align:right; position:relative; }

  button { background:transparent; border:2px solid teal; color:teal; padding:6px 14px; border-radius:8px; font-size:0.9em; cursor:pointer; }
  button:hover { background: rgba(0,128,128,0.1); }

  #progress { background:white; border:2px solid teal; padding:5px 10px; border-radius:8px; color:teal; font-weight:bold; font-size:1em; display:inline-block; margin-bottom:8px; }

  .wow-container { display:inline-block; text-align:center; position:relative; }
  .wow-star { font-size:7em; color:goldenrod; display:none; animation: starFlash 0.25s infinite alternate; position:absolute; top:-90px; left:50%; transform:translateX(-50%); }
  .wow-popup { display:none; padding:10px; border-radius:8px; background:white; border:2px solid goldenrod; font-weight:bold; font-size:2.4em; text-align:center; color:goldenrod; animation: textFlash 0.5s infinite alternate; }

  @keyframes textFlash { 0% { color:goldenrod; } 100% { color:transparent; } }
  @keyframes starFlash { 0% { opacity:1; } 100% { opacity:0; } }

  table { border-collapse:collapse; width:100%; }
  th, td { border:1px solid #ccc; padding:6px; text-align:center; vertical-align:middle; }

  /* --- make each table header cell sticky; top will be set by JS so it sits exactly under the top-section --- */
  thead th {
    position: sticky;
    top: 0;                /* default; overridden by JS on load/resize */
    background: white;
    z-index: 999;
    font-weight: bold;
    box-shadow: 0 2px 5px rgba(0,0,0,0.12);
  }
  thead th:last-child { font-size:1.02em; color:goldenrod; }

  .circle { display:inline-block; width:26px; height:26px; border-radius:50%; border:2px solid teal; cursor:pointer; }
  .checked { background:teal; }

  /* column colors (as requested previously) */
  td:nth-child(2) .circle { border-color:#1abc9c; } td:nth-child(2) .checked { background:#1abc9c; }
  td:nth-child(3) .circle { border-color:#3498db; } td:nth-child(3) .checked { background:#3498db; }
  td:nth-child(4) .circle { border-color:#9b59b6; } td:nth-child(4) .checked { background:#9b59b6; }
  td:nth-child(5) .circle { border-color:#f39c12; } td:nth-child(5) .checked { background:#f39c12; }
  td:nth-child(6) .circle { border-color:#e74c3c; } td:nth-child(6) .checked { background:#e74c3c; }
  td:nth-child(7) .circle { border-color:#2ecc71; } td:nth-child(7) .checked { background:#2ecc71; }
  td:nth-child(8) .circle { border-color:#e67e22; } td:nth-child(8) .checked { background:#e67e22; }

  .motivation { text-align:left; font-weight:bold; }
  /* preserve responsive behaviour */
  @media (max-width:640px){
    h1{font-size:2.2em}
    .subtitle{font-size:1.2em}
    .wow-star{font-size:4.5em; top:-64px}
    .wow-popup{font-size:1.6em}
  }
</style>
</head>
<body>

<div class="top-section" id="topSection">
  <h1>The Natural Burn Blueprint‚Ñ¢</h1>
  <div class="subtitle">Welcome to your 21-Day-Interactive Tracker,
Keep daily records of your Habits by checking the circles.</div>
  <div class="banner">Smile ! Love ‚ô• Yourself !</div>
  <div class="controls">
    <div class="left-controls"><button onclick="resetProgress()">Reset Progress</button></div>
    <div class="center-controls"><div id="progress">Progress: 0%</div></div>
    <div class="right-controls">
      <div class="wow-container">
        <span id="wowStar" class="wow-star">‚òÖ</span>
        <div id="wowPopup" class="wow-popup">Wow Great Job!</div>
      </div>
    </div>
  </div>
</div>

<table id="trackerTable">
  <thead>
    <tr>
      <th>Day</th>
      <th>Sleep üò¥</th>
      <th>Meals ü•ó</th>
      <th>Habit ‚è∞</th>
      <th>Mindful üôè</th>
      <th>Movement üèÉ‚Äç‚ôÄÔ∏è</th>
      <th>Water üíß</th>
      <th>Journal ‚úçÔ∏è</th>
      <th>Daily Motivations</th>
    </tr>
  </thead>
  <tbody id="body"></tbody>
</table>

<script>
/* -------------------------
   Build rows + behaviours
   ------------------------- */
const body = document.getElementById('body');
const progressText = document.getElementById('progress');
const wowPopup = document.getElementById('wowPopup');
const wowStar = document.getElementById('wowStar');
const topSection = document.getElementById('topSection');

const motivations = [
  "The first step is always the most powerful one. You are here. You are ready. Let's begin!",
  "Your body is a wise partner. Today, listen to what it truly needs.",
  "Feel the momentum building. Every small step forward is a victory.",
  "Consistency, not perfection, is the key that unlocks lasting change.",
  "Today's choices are planting the seeds for tomorrow's energy.",
  "Your worth is not on the scale. Celebrate your progress and your power.",
  "You've completed one week! Pause, reflect, and feel the changes taking root.",
  "Your mindset is your most powerful tool. Nurture it with self-compassion.",
  "Remember your 'why.' Let it be the gentle push that moves you forward.",
  "This is about creating a lifestyle you love, not a diet you endure.",
  "Every mindful pause gives you a moment of control and clarity.",
  "Patience isn't waiting; it's knowing your seeds are growing, unseen.",
  "Let go of what weighs you down, physically and emotionally.",
  "Two weeks down! Look back at your tracker and see how far you've come.",
  "You are capable of incredible transformation, one gentle habit at a time.",
  "Listen to your body. It will guide you to exactly what it needs to thrive.",
  "Focus on how you feel‚Äîlighter, more energetic, more at peace.",
  "Today is a new opportunity to show up for yourself. You're worth it.",
  "You're building an unshakeable foundation for your vibrant health.",
  "You are one day away from completing this challenge! Finish strong.",
  "You did it! This isn't the end of your journey, but the beginning of your new, natural life."
];

const colors = [
  "#e67e22","#2980b9","#16a085","#8e44ad","#d35400","#2c3e50","#27ae60",
  "#c0392b","#f39c12","#7f8c8d","#e74c3c","#9b59b6","#1abc9c","#34495e",
  "#d35400","#16a085","#8e44ad","#2980b9","#27ae60","#c0392b","#f39c12"
];

for (let i = 0; i < 21; i++) {
  const tr = document.createElement('tr');
  tr.innerHTML = `<td>${i+1}</td>` + Array(7).fill(0).map(()=>`<td><div class="circle"></div></td>`).join('') +
    `<td class="motivation" style="color:${colors[i]}">${motivations[i]}</td>`;
  body.appendChild(tr);
}

/* attach handlers */
function attachCircleHandlers() {
  document.querySelectorAll('.circle').forEach(c => {
    c.onclick = () => {
      c.classList.toggle('checked');
      updateProgress();
      const row = c.closest('tr');
      const circles = row.querySelectorAll('.circle');
      if ([...circles].every(cc => cc.classList.contains('checked'))) {
        // show the wow popup + star (visible duration intentionally long)
        wowPopup.style.display = 'block';
        wowStar.style.display = 'block';
        setTimeout(()=>{ wowPopup.style.display='none'; wowStar.style.display='none'; }, 8000);
      }
    };
  });
}

function updateProgress(){
  const circles = document.querySelectorAll('.circle');
  const checked = document.querySelectorAll('.circle.checked');
  const percent = circles.length ? Math.round((checked.length / circles.length) * 100) : 0;
  progressText.textContent = `Progress: ${checked.length}/${circles.length} (${percent}%)`;
}

function resetProgress(){
  document.querySelectorAll('.circle').forEach(c => c.classList.remove('checked'));
  updateProgress();
}

attachCircleHandlers();
updateProgress();

/* -------------------------
   Sticky header top calculation
   ------------------------- */
/* Set each <thead> <th> top so the sticky header sits exactly below the top-section */
(function setHeaderTopDynamically(){
  const headerThs = document.querySelectorAll('thead th');

  function applyTop(){
    // compute exact rendered height of the top sticky section
    const height = topSection.offsetHeight || topSection.getBoundingClientRect().height || 0;
    // apply small offset (1px) to avoid any hairline overlap
    const topValue = Math.ceil(height) + 0;
    headerThs.forEach(th => {
      th.style.top = topValue + 'px';
    });
  }

  // run on load + fonts ready + resize + orientationchange
  window.addEventListener('load', applyTop);
  window.addEventListener('resize', applyTop);
  window.addEventListener('orientationchange', ()=> setTimeout(applyTop,150));
  if (document.fonts && document.fonts.ready) {
    document.fonts.ready.then(applyTop).catch(()=>applyTop());
  }
  // small time-delayed attempts to handle late layout shifts
  setTimeout(applyTop,120);
  setTimeout(applyTop,500);
  setTimeout(applyTop,1200);

  // also observe the topSection in case its height changes dynamically
  if (window.MutationObserver) {
    const mo = new MutationObserver(applyTop);
    mo.observe(topSection, { attributes:true, childList:true, subtree:true });
  }
})();

</script>
</body>
</html>